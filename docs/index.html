<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FitScore Calculator</title>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            max-width: 800px; 
            margin: 0 auto; 
            padding: 20px; 
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        .container { 
            background: white; 
            padding: 30px; 
            border-radius: 12px; 
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }
        .form-group { margin-bottom: 20px; }
        label { 
            display: block; 
            margin-bottom: 8px; 
            font-weight: bold; 
            color: #333;
        }
        textarea { 
            width: 100%; 
            height: 150px; 
            padding: 15px; 
            border: 2px solid #e1e5e9; 
            border-radius: 8px; 
            font-size: 14px;
            resize: vertical;
        }
        textarea:focus {
            outline: none;
            border-color: #667eea;
        }
        input[type="text"] { 
            width: 100%; 
            padding: 15px; 
            border: 2px solid #e1e5e9; 
            border-radius: 8px; 
            font-size: 14px;
        }
        input[type="text"]:focus {
            outline: none;
            border-color: #667eea;
        }
        button { 
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); 
            color: white; 
            padding: 15px 30px; 
            border: none; 
            border-radius: 8px; 
            cursor: pointer; 
            font-size: 16px;
            font-weight: bold;
            transition: transform 0.2s;
        }
        button:hover { 
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }
        .result { 
            margin-top: 30px; 
            padding: 25px; 
            background: #f8f9fa; 
            border-radius: 8px; 
            border-left: 4px solid #667eea;
        }
        .score { 
            font-size: 28px; 
            font-weight: bold; 
            color: #667eea; 
            margin-bottom: 10px;
        }
        .submittable { 
            color: #28a745; 
            font-weight: bold; 
            font-size: 18px;
        }
        .not-submittable { 
            color: #dc3545; 
            font-weight: bold; 
            font-size: 18px;
        }
        .loading {
            text-align: center;
            padding: 20px;
            color: #667eea;
        }
        .category-scores {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        .category-score {
            background: white;
            padding: 15px;
            border-radius: 8px;
            border: 1px solid #e1e5e9;
        }
        .category-score h4 {
            margin: 0 0 10px 0;
            color: #333;
            font-size: 14px;
        }
        .category-score .value {
            font-size: 20px;
            font-weight: bold;
            color: #667eea;
        }
        .recommendations {
            background: white;
            padding: 20px;
            border-radius: 8px;
            margin-top: 20px;
        }
        .recommendations h3 {
            margin-top: 0;
            color: #333;
        }
        .recommendations ul {
            margin: 0;
            padding-left: 20px;
        }
        .recommendations li {
            margin-bottom: 8px;
            line-height: 1.5;
        }
        .header {
            text-align: center;
            margin-bottom: 30px;
        }
        .header h1 {
            color: #333;
            margin-bottom: 10px;
        }
        .header p {
            color: #666;
            font-size: 16px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>🎯 FitScore Calculator</h1>
            <p>Advanced candidate evaluation system with AI-powered scoring</p>
        </div>
        
        <form id="fitscoreForm">
            <div class="form-group">
                <label for="resume">Resume Text:</label>
                <textarea id="resume" name="resume" placeholder="Paste the candidate's resume here..." required></textarea>
            </div>
            
            <div class="form-group">
                <label for="jobDescription">Job Description:</label>
                <textarea id="jobDescription" name="jobDescription" placeholder="Paste the job description here..." required></textarea>
            </div>
            
            <div class="form-group">
                <label for="apiKey">OpenAI API Key (optional):</label>
                <input type="text" id="apiKey" name="apiKey" placeholder="sk-...">
                <small style="color: #666; font-size: 12px;">If not provided, the system will use fallback evaluation methods.</small>
            </div>
            
            <button type="submit" id="submitBtn">Calculate FitScore</button>
        </form>
        
        <div id="loading" class="loading" style="display: none;">
            <h3>🔄 Calculating FitScore...</h3>
            <p>This may take a few moments while we analyze the candidate.</p>
        </div>
        
        <div id="result" class="result" style="display: none;">
            <h2>FitScore Results</h2>
            <div class="score">Total Score: <span id="totalScore">-</span></div>
            <div id="submittableStatus"></div>
            
            <div class="category-scores">
                <div class="category-score">
                    <h4>Education</h4>
                    <div class="value" id="educationScore">-</div>
                </div>
                <div class="category-score">
                    <h4>Career Trajectory</h4>
                    <div class="value" id="careerScore">-</div>
                </div>
                <div class="category-score">
                    <h4>Company Relevance</h4>
                    <div class="value" id="companyScore">-</div>
                </div>
                <div class="category-score">
                    <h4>Tenure Stability</h4>
                    <div class="value" id="tenureScore">-</div>
                </div>
                <div class="category-score">
                    <h4>Most Important Skills</h4>
                    <div class="value" id="skillsScore">-</div>
                </div>
                <div class="category-score">
                    <h4>Bonus Signals</h4>
                    <div class="value" id="bonusScore">-</div>
                </div>
                <div class="category-score">
                    <h4>Red Flags Penalty</h4>
                    <div class="value" id="redFlagsScore">-</div>
                </div>
            </div>
            
            <div class="recommendations">
                <h3>Recommendations:</h3>
                <ul id="recommendations"></ul>
            </div>
        </div>
    </div>
    
    <script>
        document.getElementById('fitscoreForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const submitBtn = document.getElementById('submitBtn');
            const loading = document.getElementById('loading');
            const result = document.getElementById('result');
            
            // Show loading state
            submitBtn.disabled = true;
            submitBtn.textContent = 'Calculating...';
            loading.style.display = 'block';
            result.style.display = 'none';
            
            const formData = new FormData();
            formData.append('resume_text', document.getElementById('resume').value);
            formData.append('job_description', document.getElementById('jobDescription').value);
            formData.append('use_gpt4', 'true');
            
            const apiKey = document.getElementById('apiKey').value;
            if (apiKey) {
                formData.append('openai_api_key', apiKey);
            }
            
            try {
                // For GitHub Pages, we need to use a different approach since we can't run the FastAPI server
                // This is a demo version that shows the interface
                await new Promise(resolve => setTimeout(resolve, 2000)); // Simulate API call
                
                // Demo results (replace with actual API call when backend is available)
                const demoResult = {
                    success: true,
                    total_score: 7.8,
                    education_score: 8.5,
                    career_trajectory_score: 8.2,
                    company_relevance_score: 7.5,
                    tenure_stability_score: 7.0,
                    most_important_skills_score: 8.0,
                    bonus_signals_score: 3.0,
                    red_flags_penalty: -2.0,
                    submittable: false,
                    recommendations: [
                        "Strong educational background with MIT degree",
                        "Good career progression in tech companies",
                        "Skills match well with job requirements",
                        "Consider for interview but monitor tenure concerns",
                        "Bonus signals show initiative and leadership"
                    ]
                };
                
                // Display results
                document.getElementById('totalScore').textContent = demoResult.total_score;
                document.getElementById('educationScore').textContent = demoResult.education_score;
                document.getElementById('careerScore').textContent = demoResult.career_trajectory_score;
                document.getElementById('companyScore').textContent = demoResult.company_relevance_score;
                document.getElementById('tenureScore').textContent = demoResult.tenure_stability_score;
                document.getElementById('skillsScore').textContent = demoResult.most_important_skills_score;
                document.getElementById('bonusScore').textContent = demoResult.bonus_signals_score;
                document.getElementById('redFlagsScore').textContent = demoResult.red_flags_penalty;
                
                const statusElement = document.getElementById('submittableStatus');
                if (demoResult.submittable) {
                    statusElement.innerHTML = '<span class="submittable">✅ SUBMITTABLE CANDIDATE</span>';
                } else {
                    statusElement.innerHTML = '<span class="not-submittable">❌ RECOMMENDED REJECT</span>';
                }
                
                const recommendationsList = document.getElementById('recommendations');
                recommendationsList.innerHTML = '';
                demoResult.recommendations.forEach(rec => {
                    const li = document.createElement('li');
                    li.textContent = rec;
                    recommendationsList.appendChild(li);
                });
                
                result.style.display = 'block';
                
            } catch (error) {
                alert('Error: ' + error.message);
            } finally {
                // Reset button state
                submitBtn.disabled = false;
                submitBtn.textContent = 'Calculate FitScore';
                loading.style.display = 'none';
            }
        });
    </script>
</body>
</html> 
